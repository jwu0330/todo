# TimeBlock Scheduler - 時間排程系統

一款輕量化、純前端的時間區塊視覺化排程工具，可完全離線使用。

## 🎯 功能特色

- ✅ **多計畫管理**：建立多個獨立的時間排程計畫
- ✅ **拖拉排程**：直覺的拖放操作，輕鬆安排任務
- ✅ **自動拆分與合併**：智能處理時間衝突
- ✅ **視覺化時間軸**：清晰呈現每日行程
- ✅ **本地儲存**：資料永久保存在瀏覽器中
- ✅ **完全離線**：無需網路連線即可使用
- ✅ **計畫封存**：自動封存超過3天未使用的計畫
- ✅ **側欄收起**：一鍵收起等待區，獲得更大視野
- ✅ **確認對話框**：安全的封存/刪除操作
- ✅ **休息功能**：一鍵新增 5 分鐘休息時間
- ✅ **右鍵調整區塊**：延長或縮短任務時間（5/10/15 分鐘）
- ✅ **米色系設計**：溫暖舒適的米色配色，柔和的任務顏色
- ✅ **15 分鐘格線**：更大的時間格，更易操作

## 🚀 快速開始

### 線上使用
直接訪問 GitHub Pages：[https://yourusername.github.io/todo](https://yourusername.github.io/todo)

### 本地運行
1. 下載專案檔案
2. 在瀏覽器中開啟 `index.html`
3. 開始使用！

## 📖 使用說明

### 建立計畫
1. 點擊底部「+ 新計畫」按鈕
2. 預設建立 2 小時的時間軸
3. 可透過「新增時間」按鈕延長時間軸

### 新增任務
1. 點擊左側「+ 新增任務」按鈕
2. 填寫任務名稱（必填）
3. 選擇時間（小時 + 分鐘，以5分鐘為單位）
4. 可選填備註
5. 系統會自動分配顏色

### 排程任務
1. 從左側等待區拖拉任務到時間軸
2. 系統自動對齊 5 分鐘刻度
3. 若空間不足會自動拆分任務
4. 拖回等待區會自動合併同任務的碎片

### 標記完成
- 任務在時間軸上時，點擊右上角勾選框即可標記完成
- 已完成的任務會變淡顯示

### 計畫管理
- **重新命名**：點擊計畫名稱旁的編輯按鈕
- **封存/刪除計畫**：點擊計畫分頁右側的 × 按鈕，選擇封存或刪除
- **二次確認**：刪除操作會要求二次確認，防止誤刪
- **鍵盤操作**：確認對話框支援 Enter 確認、Esc 取消
- **還原封存**：點擊右下角封存按鈕查看封存計畫
- **收起側欄**：點擊左上角選單按鈕收起/展開等待區

### 休息時間
- 點擊右上角「休息 5 分鐘」按鈕
- 系統會自動在當前時間或最後一個任務後新增 5 分鐘休息
- 休息時間顯示為灰色區塊

### 調整區塊時間
- **右鍵點擊**時間軸上的任務區塊
- 選擇延長或縮短時間（5/10/15 分鐘）
- 系統會自動檢測重疊並防止衝突
- 延長超出範圍時會自動延長時間軸

## 🎨 系統規則

### 時間規則
- **時間格線**：15 分鐘
- **對齊刻度**：5 分鐘（可在 15 分鐘格內靈活對齊）
- **最小區塊時長**：5 分鐘
- **時間格式**：12 小時制（AM/PM）
- **預設計畫時長**：2 小時

### 拆分規則
- 當任務無法完整放入時間軸時自動拆分
- 第一段填滿可用空間
- 第二段回到等待區
- 若尾段 < 10 分鐘則自動捨棄

### 合併規則
- 同任務的碎片拖回等待區時自動合併
- 系統會自動吸附到最近的 5 分鐘刻度
- 時間相鄰的區塊會自動合併

### 顏色系統
- 系統從 40 種顏色中隨機選擇
- 同任務的所有區塊顏色一致
- MVP 版本不支援手動更改顏色

## 🛠️ 技術架構

- **前端框架**：Vanilla JavaScript（無框架依賴）
- **樣式**：純 CSS
- **資料儲存**：LocalStorage
- **拖拉功能**：HTML5 Drag and Drop API
- **部署**：GitHub Pages

## 📦 檔案結構

```
todo/
├── index.html      # 主頁面
├── styles.css      # 樣式表
├── app.js          # 核心邏輯
└── README.md       # 說明文件
```

## 🔄 Undo/Redo 功能

系統會記錄最近 3 步操作，包含：
- 任務拖拉
- 任務拆分/合併
- 新增時間
- 標記完成

## 📱 瀏覽器支援

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 🎯 未來版本規劃

- [ ] 任務分類功能
- [ ] 任務重要度標記
- [ ] 自動推薦時間段
- [ ] 自訂顏色功能
- [ ] 匯入/匯出 JSON
- [ ] 推送通知提醒
- [ ] 手機版/平板支援

## 📄 授權

MIT License

## 🤝 貢獻

歡迎提交 Issue 或 Pull Request！

---

**版本**：v1.3.0  
**最後更新**：2025/12/03  
**更新日誌**：查看 [CHANGELOG.md](CHANGELOG.md)  
**設計風格**：溫暖米色系，柔和任務顏色  
**時間格線**：15 分鐘單位，5 分鐘對齊
